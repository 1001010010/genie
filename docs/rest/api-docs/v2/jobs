{"apiVersion":"2.1.0","swaggerVersion":"1.2","basePath":"http://localhost:7001/genie","resourcePath":"/v2/jobs","produces":["application/json"],"apis":[{"path":"/v2/jobs","operations":[{"method":"GET","summary":"Find jobs","notes":"Find jobs by the submitted criteria.","type":"array","items":{"$ref":"Job"},"nickname":"getJobs","parameters":[{"name":"id","description":"Id of the job.","required":false,"allowMultiple":false,"type":"string","paramType":"query"},{"name":"name","description":"Name of the job.","required":false,"allowMultiple":false,"type":"string","paramType":"query"},{"name":"userName","description":"Name of the user who submitted the job.","required":false,"allowMultiple":false,"type":"string","paramType":"query"},{"name":"status","description":"Statuses of the jobs to fetch.","required":false,"allowMultiple":false,"type":"array","uniqueItems":true,"items":{"type":"string"},"paramType":"query"},{"name":"tag","description":"Tags for the job.","required":false,"allowMultiple":false,"type":"array","uniqueItems":true,"items":{"type":"string"},"paramType":"query"},{"name":"executionClusterName","description":"Name of the cluster on which the job ran.","required":false,"allowMultiple":false,"type":"string","paramType":"query"},{"name":"executionClusterId","description":"Id of the cluster on which the job ran.","required":false,"allowMultiple":false,"type":"string","paramType":"query"},{"name":"page","description":"The page to start on.","defaultValue":"0","required":false,"allowMultiple":false,"type":"integer","format":"int32","paramType":"query"},{"name":"limit","description":"Max number of results per page.","defaultValue":"1024","required":false,"allowMultiple":false,"type":"integer","format":"int32","paramType":"query"}],"responseMessages":[{"code":200,"message":"OK","responseModel":"Job"},{"code":400,"message":"Bad Request"},{"code":404,"message":"Job not found"},{"code":412,"message":"Invalid id supplied"},{"code":500,"message":"Genie Server Error due to Unknown Exception"}]},{"method":"POST","summary":"Submit a job","notes":"Submit a new job to run to genie","type":"Job","nickname":"submitJob","consumes":["application/json"],"parameters":[{"name":"body","description":"Job object to run.","required":true,"allowMultiple":false,"type":"Job","paramType":"body"}],"responseMessages":[{"code":201,"message":"Created","responseModel":"Job"},{"code":400,"message":"Bad Request"},{"code":409,"message":"Job with ID already exists."},{"code":412,"message":"Precondition Failed"},{"code":500,"message":"Genie Server Error due to Unknown Exception"}]}]},{"path":"/v2/jobs/{id}","operations":[{"method":"DELETE","summary":"Delete a job","notes":"Delete the job with the id specified.","type":"Job","nickname":"killJob","parameters":[{"name":"id","description":"Id of the job.","required":true,"allowMultiple":false,"type":"string","paramType":"path"}],"responseMessages":[{"code":200,"message":"OK","responseModel":"Job"},{"code":404,"message":"Job not found"},{"code":412,"message":"Invalid id supplied"},{"code":500,"message":"Genie Server Error due to Unknown Exception"}]},{"method":"GET","summary":"Find a job by id","notes":"Get the job by id if it exists","type":"Job","nickname":"getJob","parameters":[{"name":"id","description":"Id of the job to get.","required":true,"allowMultiple":false,"type":"string","paramType":"path"}],"responseMessages":[{"code":200,"message":"OK","responseModel":"Job"},{"code":400,"message":"Bad Request"},{"code":404,"message":"Job not found"},{"code":412,"message":"Invalid id supplied"},{"code":500,"message":"Genie Server Error due to Unknown Exception"}]}]},{"path":"/v2/jobs/{id}/status","operations":[{"method":"GET","summary":"Get the status of the job ","notes":"Get the status of job whose id is sent","type":"string","nickname":"getJobStatus","parameters":[{"name":"id","description":"Id of the job.","required":true,"allowMultiple":false,"type":"string","paramType":"path"}],"responseMessages":[{"code":200,"message":"OK","responseModel":"string"},{"code":400,"message":"Bad Request"},{"code":404,"message":"Job not found"},{"code":412,"message":"Invalid id supplied"},{"code":500,"message":"Genie Server Error due to Unknown Exception"}]}]},{"path":"/v2/jobs/{id}/tags","operations":[{"method":"POST","summary":"Add new tags to a job","notes":"Add the supplied tags to the job with the supplied id.","type":"array","uniqueItems":true,"items":{"type":"string"},"nickname":"addTagsForJob","consumes":["application/json"],"parameters":[{"name":"id","description":"Id of the job to add configuration to.","required":true,"allowMultiple":false,"type":"string","paramType":"path"},{"name":"body","description":"The tags to add.","required":true,"allowMultiple":false,"type":"array","uniqueItems":true,"items":{"type":"string"},"paramType":"body"}],"responseMessages":[{"code":200,"message":"OK"},{"code":400,"message":"Bad Request"},{"code":404,"message":"Job for id does not exist."},{"code":412,"message":"Invalid id supplied"},{"code":500,"message":"Genie Server Error due to Unknown Exception"}]},{"method":"GET","summary":"Get the tags for a job","notes":"Get the tags for the job with the supplied id.","type":"array","uniqueItems":true,"items":{"type":"string"},"nickname":"getTagsForJob","parameters":[{"name":"id","description":"Id of the job to get tags for.","required":true,"allowMultiple":false,"type":"string","paramType":"path"}],"responseMessages":[{"code":200,"message":"OK"},{"code":400,"message":"Bad Request"},{"code":404,"message":"Job for id does not exist."},{"code":412,"message":"Invalid id supplied"},{"code":500,"message":"Genie Server Error due to Unknown Exception"}]},{"method":"PUT","summary":"Update tags for a job","notes":"Replace the existing tags for job with given id.","type":"array","uniqueItems":true,"items":{"type":"string"},"nickname":"updateTagsForJob","consumes":["application/json"],"parameters":[{"name":"id","description":"Id of the job to update tags for.","required":true,"allowMultiple":false,"type":"string","paramType":"path"},{"name":"body","description":"The tags to replace existing with.","required":true,"allowMultiple":false,"type":"array","uniqueItems":true,"items":{"type":"string"},"paramType":"body"}],"responseMessages":[{"code":200,"message":"OK"},{"code":400,"message":"Bad Request"},{"code":404,"message":"Job for id does not exist."},{"code":412,"message":"Invalid id supplied"},{"code":500,"message":"Genie Server Error due to Unknown Exception"}]},{"method":"DELETE","summary":"Remove all tags from a job","notes":"Remove all the tags from the job with given id.","type":"array","uniqueItems":true,"items":{"type":"string"},"nickname":"removeAllTagsForJob","parameters":[{"name":"id","description":"Id of the job to delete from.","required":true,"allowMultiple":false,"type":"string","paramType":"path"}],"responseMessages":[{"code":200,"message":"OK"},{"code":400,"message":"Bad Request"},{"code":404,"message":"Job for id does not exist."},{"code":412,"message":"Invalid id supplied"},{"code":500,"message":"Genie Server Error due to Unknown Exception"}]}]},{"path":"/v2/jobs/{id}/tags/{tag}","operations":[{"method":"DELETE","summary":"Remove a tag from a job","notes":"Remove the given tag from the job with given id.","type":"array","uniqueItems":true,"items":{"type":"string"},"nickname":"removeTagForJob","parameters":[{"name":"id","description":"Id of the job to delete from.","required":true,"allowMultiple":false,"type":"string","paramType":"path"},{"name":"tag","description":"The tag to remove.","required":true,"allowMultiple":false,"type":"string","paramType":"path"}],"responseMessages":[{"code":200,"message":"OK"},{"code":400,"message":"Bad Request"},{"code":404,"message":"Job for id does not exist."},{"code":412,"message":"Invalid id supplied"},{"code":500,"message":"Genie Server Error due to Unknown Exception"}]}]}],"models":{"FileAttachment":{"id":"FileAttachment","description":"An attachment for use with a job","required":["name","data"],"properties":{"name":{"type":"string","description":"The name of the file"},"data":{"type":"array","description":"The bytes of the attachment","items":{"type":"byte"}}}},"ClusterCriteria":{"id":"ClusterCriteria","description":"A set of cluster criteria for a job","required":["tags"],"properties":{"tags":{"$ref":"Set","description":"The tags which are ANDed together to select a viable cluster for the job","items":{"type":"string"}}}},"Job":{"id":"Job","required":["commandArgs","clusterCriterias","commandCriteria","name","user","version"],"properties":{"hostName":{"type":"string","description":"The genie host where the job is being run or was run. Set automatically by system"},"group":{"type":"string","description":"Group name of the user who submitted this job"},"status":{"$ref":"JobStatus","description":"The current status of the job. Set automatically by system","enum":["INIT","RUNNING","SUCCEEDED","KILLED","FAILED"]},"commandArgs":{"type":"string","description":"Command line arguments for the job. e.g. -f hive.q"},"attachments":{"$ref":"Set","description":"Attachments sent as a part of job request. Can be used as command line arguments","items":{"$ref":"FileAttachment"}},"commandId":{"type":"string","description":"Id of the command that this job is using to run or ran with. Set automatically by system"},"fileDependencies":{"type":"string","description":"Dependent files for this job to run. Will be downloaded from s3/hdfs before job starts"},"envPropFile":{"type":"string","description":"Path to a shell file which is sourced before job is run where properties can be set"},"statusMsg":{"type":"string","description":"A status message about the job. Set automatically by system"},"executionClusterName":{"type":"string","description":"Name of the cluster where the job is running or was run. Set automatically by system"},"executionClusterId":{"type":"string","description":"Id of the cluster where the job is running or was run. Set automatically by system"},"commandName":{"type":"string","description":"Name of the command that this job is using to run or ran with. Set automatically by system"},"started":{"type":"string","format":"date-time","description":"The start time of the job. Set automatically by system"},"finished":{"type":"string","format":"date-time","description":"The end time of the job. Initialized at 0. Set automatically by system"},"clientHost":{"type":"string","description":"The hostname of the client submitting the job. Set automatically by system"},"archiveLocation":{"type":"string","description":"Where the logs were archived. Set automatically by system"},"applicationName":{"type":"string","description":"Name of the application that this job is using to run or ran with. Set automatically by system"},"applicationId":{"type":"string","description":"Id of the application that this job is using to run or ran with. Set automatically by system"},"tags":{"$ref":"Set","description":"Any tags a user wants to add to the job to help with discovery of job later","items":{"type":"string"}},"forwarded":{"type":"boolean","description":"Whether this job was forwarded or not. Set automatically by system"},"processHandle":{"type":"integer","format":"int32","description":"The process handle. Set by system"},"killURI":{"type":"string","description":"The URI to use to kill the job. Set automatically by system"},"exitCode":{"type":"integer","format":"int32","description":"The exit code of the job. Set automatically by system"},"disableLogArchival":{"type":"boolean","description":"Boolean variable to decide whether job should be archived after it finishes defaults to true"},"clusterCriterias":{"type":"array","description":"List of criteria containing tags to use to pick a cluster to run this job, evaluated in order","items":{"$ref":"ClusterCriteria"}},"commandCriteria":{"$ref":"Set","description":"List of criteria containing tags to use to pick a command to run this job","items":{"type":"string"}},"description":{"type":"string","description":"Description specified for the job"},"email":{"type":"string","description":"Email address to send notifications to on job completion"},"outputURI":{"type":"string","description":"The URI where to find job output. Set automatically by system"},"name":{"type":"string","description":"The name to use"},"user":{"type":"string","description":"User who created/owns this object"},"version":{"type":"string","description":"The version number"},"id":{"type":"string","description":"The unique id of this resource. If one is not provided it is created internally"},"created":{"type":"string","format":"date-time","description":"When this resource was created. Set automatically by system"},"updated":{"type":"string","format":"date-time","description":"When this resource was last updated. Set automatically by system"}}}}}