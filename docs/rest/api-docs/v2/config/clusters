{"apiVersion":"2.0.0","swaggerVersion":"1.2","basePath":"http://localhost:7001/genie","resourcePath":"/v2/config/clusters","produces":["application/json"],"apis":[{"path":"/v2/config/clusters","operations":[{"method":"GET","summary":"Find clusters","notes":"Find clusters by the submitted criteria.","type":"array","items":{"$ref":"Cluster"},"nickname":"getClusters","parameters":[{"name":"name","description":"Name of the cluster.","required":false,"allowMultiple":false,"type":"string","paramType":"query"},{"name":"status","description":"Status of the cluster.","required":false,"allowMultiple":false,"type":"array","uniqueItems":true,"items":{"type":"string"},"paramType":"query"},{"name":"tag","description":"Tags for the cluster.","required":false,"allowMultiple":false,"type":"array","uniqueItems":true,"items":{"type":"string"},"paramType":"query"},{"name":"minUpdateTime","description":"Minimum time threshold for cluster update","required":false,"allowMultiple":false,"type":"integer","format":"int64","paramType":"query"},{"name":"maxUpdateTime","description":"Maximum time threshold for cluster update","required":false,"allowMultiple":false,"type":"integer","format":"int64","paramType":"query"},{"name":"page","description":"The page to start on.","defaultValue":"0","required":false,"allowMultiple":false,"type":"integer","format":"int32","paramType":"query"},{"name":"limit","description":"Max number of results per page.","defaultValue":"1024","required":false,"allowMultiple":false,"type":"integer","format":"int32","paramType":"query"}],"responseMessages":[{"code":200,"message":"OK","responseModel":"Cluster"},{"code":412,"message":"If one of status is invalid"},{"code":500,"message":"Genie Server Error due to Unknown Exception"}]},{"method":"POST","summary":"Create a cluster","notes":"Create a cluster from the supplied information.","type":"Cluster","nickname":"createCluster","consumes":["application/json"],"parameters":[{"name":"body","description":"The cluster to create.","required":true,"allowMultiple":false,"type":"Cluster","paramType":"body"}],"responseMessages":[{"code":201,"message":"Created","responseModel":"Cluster"},{"code":409,"message":"A cluster with the supplied id already exists"},{"code":412,"message":"Invalid required parameter supplied"},{"code":500,"message":"Genie Server Error due to Unknown Exception"}]},{"method":"DELETE","summary":"Delete all clusters","notes":"Delete all available clusters and get them back.","type":"array","items":{"$ref":"Cluster"},"nickname":"deleteAllClusters","parameters":[],"responseMessages":[{"code":200,"message":"OK"},{"code":404,"message":"Cluster not found"},{"code":412,"message":"Invalid required parameter supplied"},{"code":500,"message":"Genie Server Error due to Unknown Exception"}]}]},{"path":"/v2/config/clusters/{id}","operations":[{"method":"PUT","summary":"Update a cluster","notes":"Update a cluster from the supplied information.","type":"Cluster","nickname":"updateCluster","consumes":["application/json"],"parameters":[{"name":"id","description":"Id of the cluster to update.","required":true,"allowMultiple":false,"type":"string","paramType":"path"},{"name":"body","description":"The cluster information to update with.","required":true,"allowMultiple":false,"type":"Cluster","paramType":"body"}],"responseMessages":[{"code":200,"message":"OK","responseModel":"Cluster"},{"code":404,"message":"Cluster to update not found"},{"code":412,"message":"Invalid required parameter supplied"},{"code":500,"message":"Genie Server Error due to Unknown Exception"}]},{"method":"DELETE","summary":"Delete a cluster","notes":"Delete a cluster with the supplied id.","type":"Cluster","nickname":"deleteCluster","parameters":[{"name":"id","description":"Id of the cluster to delete.","required":true,"allowMultiple":false,"type":"string","paramType":"path"}],"responseMessages":[{"code":200,"message":"OK","responseModel":"Cluster"},{"code":404,"message":"Cluster not found"},{"code":412,"message":"Invalid required parameter supplied"},{"code":500,"message":"Genie Server Error due to Unknown Exception"}]},{"method":"GET","summary":"Find a cluster by id","notes":"Get the cluster by id if it exists","type":"Cluster","nickname":"getCluster","parameters":[{"name":"id","description":"Id of the cluster to get.","required":true,"allowMultiple":false,"type":"string","paramType":"path"}],"responseMessages":[{"code":200,"message":"OK","responseModel":"Cluster"},{"code":404,"message":"Cluster not found"},{"code":412,"message":"Invalid required parameter supplied"},{"code":500,"message":"Genie Server Error due to Unknown Exception"}]}]},{"path":"/v2/config/clusters/{id}/configs","operations":[{"method":"POST","summary":"Add new configuration files to a cluster","notes":"Add the supplied configuration files to the cluster with the supplied id.","type":"array","uniqueItems":true,"items":{"type":"string"},"nickname":"addConfigsForCluster","consumes":["application/json"],"parameters":[{"name":"id","description":"Id of the cluster to add configuration to.","required":true,"allowMultiple":false,"type":"string","paramType":"path"},{"name":"body","description":"The configuration files to add.","required":true,"allowMultiple":false,"type":"array","uniqueItems":true,"items":{"type":"string"},"paramType":"body"}],"responseMessages":[{"code":200,"message":"OK"},{"code":404,"message":"Cluster not found"},{"code":412,"message":"Invalid required parameter supplied"},{"code":500,"message":"Genie Server Error due to Unknown Exception"}]},{"method":"GET","summary":"Get the configuration files for a cluster","notes":"Get the configuration files for the cluster with the supplied id.","type":"array","uniqueItems":true,"items":{"type":"string"},"nickname":"getConfigsForCluster","parameters":[{"name":"id","description":"Id of the cluster to get configurations for.","required":true,"allowMultiple":false,"type":"string","paramType":"path"}],"responseMessages":[{"code":200,"message":"OK"},{"code":404,"message":"Cluster not found"},{"code":412,"message":"Invalid required parameter supplied"},{"code":500,"message":"Genie Server Error due to Unknown Exception"}]},{"method":"PUT","summary":"Update configuration files for an cluster","notes":"Replace the existing configuration files for cluster with given id.","type":"array","uniqueItems":true,"items":{"type":"string"},"nickname":"updateConfigsForCluster","consumes":["application/json"],"parameters":[{"name":"id","description":"Id of the cluster to update configurations for.","required":true,"allowMultiple":false,"type":"string","paramType":"path"},{"name":"body","description":"The configuration files to replace existing with.","required":true,"allowMultiple":false,"type":"array","uniqueItems":true,"items":{"type":"string"},"paramType":"body"}],"responseMessages":[{"code":200,"message":"OK"},{"code":404,"message":"Cluster not found"},{"code":412,"message":"Invalid required parameter supplied"},{"code":500,"message":"Genie Server Error due to Unknown Exception"}]}]},{"path":"/v2/config/clusters/{id}/commands","operations":[{"method":"POST","summary":"Add new commands to a cluster","notes":"Add the supplied commands to the cluster with the supplied id. commands should already have been created.","type":"array","items":{"$ref":"Command"},"nickname":"addCommandsForCluster","consumes":["application/json"],"parameters":[{"name":"id","description":"Id of the cluster to add commands to.","required":true,"allowMultiple":false,"type":"string","paramType":"path"},{"name":"body","description":"The commands to add.","required":true,"allowMultiple":false,"type":"array","items":{"$ref":"Command"},"paramType":"body"}],"responseMessages":[{"code":200,"message":"OK"},{"code":404,"message":"cluster not found"},{"code":412,"message":"Invalid required parameter supplied"},{"code":500,"message":"Genie Server Error due to Unknown Exception"}]},{"method":"GET","summary":"Get the commands for a cluster","notes":"Get the commands for the cluster with the supplied id.","type":"array","items":{"$ref":"Command"},"nickname":"getCommandsForCluster","parameters":[{"name":"id","description":"Id of the cluster to get commands for.","required":true,"allowMultiple":false,"type":"string","paramType":"path"}],"responseMessages":[{"code":200,"message":"OK"},{"code":404,"message":"Cluster not found"},{"code":412,"message":"Invalid required parameter supplied"},{"code":500,"message":"Genie Server Error due to Unknown Exception"}]},{"method":"PUT","summary":"Update the commands for an cluster","notes":"Replace the existing commands for cluster with given id.","type":"array","items":{"$ref":"Command"},"nickname":"updateCommandsForCluster","consumes":["application/json"],"parameters":[{"name":"id","description":"Id of the cluster to update commands for.","required":true,"allowMultiple":false,"type":"string","paramType":"path"},{"name":"body","description":"The commands to replace existing with. Should already be created","required":true,"allowMultiple":false,"type":"array","items":{"$ref":"Command"},"paramType":"body"}],"responseMessages":[{"code":200,"message":"OK"},{"code":404,"message":"Cluster not found"},{"code":412,"message":"Invalid required parameter supplied"},{"code":500,"message":"Genie Server Error due to Unknown Exception"}]},{"method":"DELETE","summary":"Remove all commands from an cluster","notes":"Remove all the commands from the cluster with given id.","type":"array","items":{"$ref":"Command"},"nickname":"removeAllCommandsForCluster","parameters":[{"name":"id","description":"Id of the cluster to delete from.","required":true,"allowMultiple":false,"type":"string","paramType":"path"}],"responseMessages":[{"code":200,"message":"OK"},{"code":404,"message":"Cluster not found"},{"code":412,"message":"Invalid required parameter supplied"},{"code":500,"message":"Genie Server Error due to Unknown Exception"}]}]},{"path":"/v2/config/clusters/{id}/commands/{cmdId}","operations":[{"method":"DELETE","summary":"Remove a command from a cluster","notes":"Remove the given command from the cluster with given id.","type":"array","items":{"$ref":"Command"},"nickname":"removeCommandForCluster","parameters":[{"name":"id","description":"Id of the cluster to delete from.","required":true,"allowMultiple":false,"type":"string","paramType":"path"},{"name":"cmdId","description":"The id of the command to remove.","required":true,"allowMultiple":false,"type":"string","paramType":"path"}],"responseMessages":[{"code":200,"message":"OK"},{"code":404,"message":"Cluster not found"},{"code":412,"message":"Invalid required parameter supplied"},{"code":500,"message":"Genie Server Error due to Unknown Exception"}]}]},{"path":"/v2/config/clusters/{id}/tags","operations":[{"method":"POST","summary":"Add new tags to a cluster","notes":"Add the supplied tags to the cluster with the supplied id.","type":"array","uniqueItems":true,"items":{"type":"string"},"nickname":"addTagsForCluster","consumes":["application/json"],"parameters":[{"name":"id","description":"Id of the cluster to add configuration to.","required":true,"allowMultiple":false,"type":"string","paramType":"path"},{"name":"body","description":"The tags to add.","required":true,"allowMultiple":false,"type":"array","uniqueItems":true,"items":{"type":"string"},"paramType":"body"}],"responseMessages":[{"code":200,"message":"OK"},{"code":404,"message":"Cluster not found"},{"code":412,"message":"Invalid required parameter supplied"},{"code":500,"message":"Genie Server Error due to Unknown Exception"}]},{"method":"GET","summary":"Get the tags for a cluster","notes":"Get the tags for the cluster with the supplied id.","type":"array","uniqueItems":true,"items":{"type":"string"},"nickname":"getTagsForCluster","parameters":[{"name":"id","description":"Id of the cluster to get tags for.","required":true,"allowMultiple":false,"type":"string","paramType":"path"}],"responseMessages":[{"code":200,"message":"OK"},{"code":404,"message":"Cluster not found"},{"code":412,"message":"Invalid required parameter supplied"},{"code":500,"message":"Genie Server Error due to Unknown Exception"}]},{"method":"PUT","summary":"Update tags for a cluster","notes":"Replace the existing tags for cluster with given id.","type":"array","uniqueItems":true,"items":{"type":"string"},"nickname":"updateTagsForCluster","consumes":["application/json"],"parameters":[{"name":"id","description":"Id of the cluster to update tags for.","required":true,"allowMultiple":false,"type":"string","paramType":"path"},{"name":"body","description":"The tags to replace existing with.","required":true,"allowMultiple":false,"type":"array","uniqueItems":true,"items":{"type":"string"},"paramType":"body"}],"responseMessages":[{"code":200,"message":"OK"},{"code":404,"message":"Cluster not found"},{"code":412,"message":"Invalid required parameter supplied"},{"code":500,"message":"Genie Server Error due to Unknown Exception"}]},{"method":"DELETE","summary":"Remove all tags from a cluster","notes":"Remove all the tags from the cluster with given id.  Note that the genie name space tagsprefixed with genie.id and genie.name cannot be deleted.","type":"array","uniqueItems":true,"items":{"type":"string"},"nickname":"removeAllTagsForCluster","parameters":[{"name":"id","description":"Id of the cluster to delete from.","required":true,"allowMultiple":false,"type":"string","paramType":"path"}],"responseMessages":[{"code":200,"message":"OK"},{"code":404,"message":"Cluster not found"},{"code":412,"message":"Invalid required parameter supplied"},{"code":500,"message":"Genie Server Error due to Unknown Exception"}]}]},{"path":"/v2/config/clusters/{id}/tags/{tag}","operations":[{"method":"DELETE","summary":"Remove a tag from a cluster","notes":"Remove the given tag from the cluster with given id. Note that the genie name space tagsprefixed with genie.id and genie.name cannot be deleted.","type":"array","uniqueItems":true,"items":{"type":"string"},"nickname":"removeTagForCluster","parameters":[{"name":"id","description":"Id of the cluster to delete from.","required":true,"allowMultiple":false,"type":"string","paramType":"path"},{"name":"tag","description":"The tag to remove.","required":true,"allowMultiple":false,"type":"string","paramType":"path"}],"responseMessages":[{"code":200,"message":"OK"},{"code":404,"message":"Cluster not found"},{"code":412,"message":"Invalid required parameter supplied"},{"code":500,"message":"Genie Server Error due to Unknown Exception"}]}]}],"models":{"Command":{"id":"Command","description":"A Command","required":["tags","executable","status","name","user","version"],"properties":{"tags":{"$ref":"Set","description":"All the tags associated with this command","items":{"type":"string"}},"executable":{"type":"string","description":"Location of the executable for this command"},"envPropFile":{"type":"string","description":"Location of a property file which will be downloaded and sourced before command execution"},"status":{"$ref":"CommandStatus","description":"The status of the command","enum":["ACTIVE","DEPRECATED","INACTIVE"]},"configs":{"$ref":"Set","description":"Locations of all the configuration files needed for this command which will be downloaded","items":{"type":"string"}},"jobType":{"type":"string","description":"Job type of the command. eg: hive, pig , hadoop etc"},"name":{"type":"string","description":"The name to use"},"user":{"type":"string","description":"User who created/owns this object"},"version":{"type":"string","description":"The version number"},"id":{"type":"string","description":"The unique id of this resource. If one is not provided it is created internally"},"created":{"type":"string","format":"date-time","description":"When this resource was created. Set automatically by system"},"updated":{"type":"string","format":"date-time","description":"When this resource was last updated. Set automatically by system"}}},"Cluster":{"id":"Cluster","description":"A Cluster","required":["tags","status","clusterType","configs","name","user","version"],"properties":{"tags":{"$ref":"Set","description":"The tags associated with this cluster","items":{"type":"string"}},"status":{"$ref":"ClusterStatus","description":"The status of the cluster","enum":["UP","OUT_OF_SERVICE","TERMINATED"]},"clusterType":{"type":"string","description":"The type of the cluster to use to figure out the job manager for this cluster. e.g.: yarn, presto, mesos etc. The mapping to a JobManager will be specified using the property: netflix.genie.server.{clusterType}.JobManagerImpl"},"configs":{"$ref":"Set","description":"All the configuration files needed for this cluster which will be downloaded pre-use","items":{"type":"string"}},"name":{"type":"string","description":"The name to use"},"user":{"type":"string","description":"User who created/owns this object"},"version":{"type":"string","description":"The version number"},"id":{"type":"string","description":"The unique id of this resource. If one is not provided it is created internally"},"created":{"type":"string","format":"date-time","description":"When this resource was created. Set automatically by system"},"updated":{"type":"string","format":"date-time","description":"When this resource was last updated. Set automatically by system"}}}}}